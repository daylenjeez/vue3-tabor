<div align="center">
    <div align="center"><img src="/assets/vue-tabor-logo.svg" width=240 /></div>
    <h2 align="center">vue3-tabor</h2>
    <div align="center">ğŸš€ åŸºäº Vue 3 çš„å¼ºå¤§æ ‡ç­¾é¡µè·¯ç”±è§£å†³æ–¹æ¡ˆï¼Œæ”¯æŒæ ‡ç­¾é¡µå¯¼èˆªä¸ keepAlive ç¼“å­˜åŠŸèƒ½</div>
    <div align="center">å…¼å®¹å¤šç§ç»„ä»¶åº“æ ·å¼ï¼Œæä¾›ä¸°å¯Œçš„è‡ªå®šä¹‰é€‰é¡¹</div>
    <div align="center"><strong>ä¸­æ–‡</strong> | <a href="README.en.md">English</a></div>
    <br/>
    <div align="center">
        <a href="https://www.npmjs.com/package/vue3-tabor"><img src="https://img.shields.io/npm/v/vue3-tabor.svg" alt="Version"></a>
        <a href="https://www.npmjs.com/package/vue3-tabor"><img src="https://img.shields.io/npm/l/vue3-tabor.svg" alt="License"></a>
        <a href="https://github.com/daylenjeez/vue3-tabor"><img src="https://img.shields.io/github/stars/daylenjeez/vue3-tabor.svg" alt="GitHub Stars"></a>
        <img src="https://img.shields.io/bundlephobia/minzip/vue3-tabor" alt="Size">
        <img src="https://img.shields.io/badge/vue-v3.x-brightgreen.svg" alt="Vue Version">
        <img src="https://img.shields.io/badge/vue--router-v4.x-brightgreen.svg" alt="Vue Router Version">
        <img src="https://img.shields.io/badge/TypeScript-supported-blue.svg" alt="TypeScript">
    </div>
</div>

## âœ¨ ç‰¹ç‚¹

- **ğŸ”¥ ç®€å•æ˜“ä¸Šæ‰‹**ï¼šé›¶å­¦ä¹ æˆæœ¬ï¼Œå¼•å…¥å³ç”¨
- **ğŸ¨ é«˜åº¦å®šåˆ¶åŒ–**ï¼šæä¾›ä¸°å¯ŒAPIå’Œé…ç½®ï¼Œæ»¡è¶³ä»åŸºç¡€åˆ°å¤æ‚çš„å„ç±»éœ€æ±‚
- **ğŸ“¦ è½»é‡é«˜æ•ˆ**ï¼šåŸºäºVue 3å’ŒVue Router 4ä¼˜åŒ–è®¾è®¡ï¼Œæ€§èƒ½å‡ºè‰²ï¼Œä½“ç§¯å°å·§
- **ğŸ’ª ç±»å‹æ”¯æŒ**ï¼šä½¿ç”¨TypeScriptå¼€å‘ï¼Œæä¾›å®Œæ•´ç±»å‹å®šä¹‰ï¼Œå¼€å‘ä½“éªŒå“è¶Š

## ğŸ› ï¸ åŠŸèƒ½ç‰¹æ€§

- ### åŸºç¡€åŠŸèƒ½
  - âœ… **è·¯ç”±å“åº”**ï¼šè‡ªåŠ¨å“åº”è·¯ç”±å˜åŒ–ï¼Œæ‰“å¼€ã€åˆ‡æ¢é¡µç­¾
  - âœ… **æ ‡ç­¾ç®¡ç†**ï¼š
    - âœ… æ‰“å¼€/æ›¿æ¢é¡µç­¾
    - âœ… å…³é—­é¡µç­¾
    - âœ… å…³é—­å…¶ä»–é¡µç­¾
    - âœ… åˆ·æ–°é¡µç­¾
    - âœ… å³é”®èœå•æ“ä½œ
  - âœ… **ç¼“å­˜æ§åˆ¶**ï¼šæ”¯æŒé¡µç­¾å†…å®¹ç¼“å­˜ï¼Œæå‡ç”¨æˆ·ä½“éªŒ
  - â³ **å…¨å±€é…ç½®**ï¼šæ”¯æŒå…¨å±€åŠä¸ªæ€§åŒ–é…ç½®ï¼ˆå¼€å‘ä¸­ï¼‰
  - â³ **ç”Ÿå‘½å‘¨æœŸé’©å­**ï¼šæä¾›ä¸°å¯Œçš„ç”Ÿå‘½å‘¨æœŸäº‹ä»¶ï¼ˆå¼€å‘ä¸­ï¼‰
  
- ### é«˜çº§ç‰¹æ€§
  - âœ… **iframeæ”¯æŒ**ï¼šå†…ç½®iframeè·¯ç”±æ”¯æŒï¼Œè½»æ¾é›†æˆå¤–éƒ¨é¡µé¢
  - â³ **åŠ¨ç”»æ•ˆæœ**ï¼šé¡µç­¾åˆ‡æ¢åŠ¨ç”»ï¼ˆå¼€å‘ä¸­ï¼‰
  - â³ **å›½é™…åŒ–**ï¼šå¤šè¯­è¨€æ”¯æŒï¼ˆå¼€å‘ä¸­ï¼‰
  - â³ **åŸ‹ç‚¹ç»Ÿè®¡**ï¼šé¡µç­¾è®¿é—®æ•°æ®ç»Ÿè®¡ï¼ˆå¼€å‘ä¸­ï¼‰

## ğŸ“¦ å®‰è£…

```bash
npm install vue3-tabor
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. åœ¨å…¥å£æ–‡ä»¶ä¸­å¼•å…¥å¹¶æ³¨å†Œæ’ä»¶

```js
import { createApp } from "vue";
import Tabor from "vue3-tabor";
// å¿…é¡»å¼•å…¥æ ·å¼æ–‡ä»¶
import "vue3-tabor/dist/assets/index.css";
import router from "./router";
import App from "./App.vue";

const app = createApp(App);
app.use(router);
app.use(Tabor, { 
  router,  // ä¼ å…¥routerå®ä¾‹
  maxCache: 10  // å¯é€‰ï¼šæœ€å¤§ç¼“å­˜æ•°é‡
});

app.mount("#app");
```

### 2. åœ¨å¸ƒå±€ç»„ä»¶ä¸­ä½¿ç”¨æ ‡ç­¾é¡µç»„ä»¶

```html
<!-- App.vue æˆ– Layout.vue -->
<template>
  <div class="app-container">
    <header><!-- ä½ çš„åº”ç”¨å¤´éƒ¨ --></header>
    <main>
      <vue-tabor />
    </main>
  </div>
</template>
```

## ğŸ“– API æ–‡æ¡£

### å…¨å±€é…ç½®

åœ¨å®‰è£…æ’ä»¶æ—¶ï¼Œå¯ä»¥ä¼ å…¥ä»¥ä¸‹é…ç½®é€‰é¡¹ï¼š

```js
app.use(RouterTab, {
  router: router,       // å¿…éœ€ï¼šVue Router å®ä¾‹
  maxCache: 10,         // å¯é€‰ï¼šæœ€å¤§ç¼“å­˜æ•°é‡ï¼Œé»˜è®¤ä¸º10
});
```

### ç»„ä»¶å±æ€§ (Props)

`<vue-tabor>` ç»„ä»¶æ”¯æŒä»¥ä¸‹å±æ€§ï¼š

| å±æ€§ | ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜ |
|------|------|--------|------|
| maxAlive | Number | 10 | æœ€å¤§ç¼“å­˜æ•°é‡ |
| hideClose | Boolean | false | æ˜¯å¦éšè—å…³é—­æŒ‰é’® |
| beforeClose | Function | - | å…³é—­æ ‡ç­¾å‰çš„é’©å­å‡½æ•°ï¼Œè¿”å›Promise<boolean> |
| tabClass | String | - | æ ‡ç­¾çš„è‡ªå®šä¹‰CSSç±»å |
| pageClass | String | - | é¡µé¢çš„è‡ªå®šä¹‰CSSç±»å |
| dropdownClass | String | - | ä¸‹æ‹‰èœå•çš„è‡ªå®šä¹‰CSSç±»å |
| tabType | String | 'line' | æ ‡ç­¾ç±»å‹ï¼Œå¯é€‰å€¼ï¼š'line'ã€'card' |
| style | Object | - | è‡ªå®šä¹‰æ ·å¼å˜é‡ |
| tabPrefix | Component | - | æ ‡ç­¾å‰ç¼€ç»„ä»¶ |
| language | String | 'zh' | ç•Œé¢è¯­è¨€ï¼Œå¯é€‰å€¼ï¼š'zh'ã€'en' |

### å›½é™…åŒ–æ”¯æŒ

vue3-tabor æ”¯æŒä¸­æ–‡å’Œè‹±æ–‡ä¸¤ç§è¯­è¨€ï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼è¿›è¡Œé…ç½®ï¼š

```html
<!-- è®¾ç½®ä¸ºè‹±æ–‡ -->
<vue-tabor language="en" />

<!-- è®¾ç½®ä¸ºä¸­æ–‡ -->
<vue-tabor language="zh" />
```

ä½ è¿˜å¯ä»¥é€šè¿‡ API åŠ¨æ€åˆ‡æ¢è¯­è¨€ï¼š

```js
import { setLanguage } from 'vue3-tabor/utils/i18n';

// åˆ‡æ¢ä¸ºè‹±æ–‡
setLanguage('en');

// åˆ‡æ¢ä¸ºä¸­æ–‡
setLanguage('zh');
```

### æ ·å¼å˜é‡

vue3-tabor æä¾›äº†ä»¥ä¸‹ CSS å˜é‡ï¼Œå¯ä»¥é€šè¿‡ style å±æ€§æˆ–å…¨å±€ CSS è‡ªå®šä¹‰ä¸»é¢˜æ ·å¼ï¼š

#### åŸºç¡€é…ç½®

```html
<vue-tabor :style="{
  /* åŸºç¡€é¢œè‰²ä¸å°ºå¯¸ */
  --primary-color: #5a67d8,                 /* ä¸»é¢˜è‰²ï¼Œç”¨äºæ¿€æ´»çŠ¶æ€å’Œé«˜äº®æ•ˆæœ */
  --font-size-base: 14px,                   /* åŸºç¡€å­—ä½“å¤§å° */
}" />
```

#### æ ‡ç­¾å¤–è§‚

```html
<vue-tabor :style="{
  /* æ ‡ç­¾å°ºå¯¸ä¸é—´è· */
  --tab-height: 40px,                       /* æ ‡ç­¾é«˜åº¦ */
  --tab-min-width: 83px,                    /* æ ‡ç­¾æœ€å°å®½åº¦ */
  --tab-padding: 0 12px,                    /* æ ‡ç­¾å†…è¾¹è· */
  --tabs-gap: 6px,                          /* æ ‡ç­¾ä¹‹é—´çš„é—´è· */
  --tab-label-min-width: 30px,              /* æ ‡ç­¾æ–‡æœ¬æœ€å°å®½åº¦ */
  --tab-label-max-width: 100px,             /* æ ‡ç­¾æ–‡æœ¬æœ€å¤§å®½åº¦ï¼Œè¶…å‡ºå°†æ˜¾ç¤ºçœç•¥å· */
  
  /* æ ‡ç­¾é¢œè‰²ä¸è¾¹æ¡† */
  --tab-background-color: rgba(248, 249, 250, 0.5), /* æ ‡ç­¾èƒŒæ™¯è‰² */
  --tab-active-background-color: #fff,      /* æ¿€æ´»æ ‡ç­¾çš„èƒŒæ™¯è‰² */
  --tab-active-color: var(--primary-color), /* æ¿€æ´»æ ‡ç­¾çš„æ–‡æœ¬é¢œè‰² */
  --tab-text-color: #64748b,                /* æ™®é€šæ ‡ç­¾çš„æ–‡æœ¬é¢œè‰² */
  --tab-border-color: #e2e8f0,              /* æ ‡ç­¾è¾¹æ¡†é¢œè‰² */
  --tab-border-radius: 4px,                 /* æ ‡ç­¾è¾¹æ¡†åœ†è§’ */
  
  /* æ ‡ç­¾é˜´å½± */
  --tab-box-shadow: 0 1px 2px rgba(0, 0, 0, 0.03),  /* æ ‡ç­¾é˜´å½± */
  --tab-active-box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05), /* æ¿€æ´»æ ‡ç­¾é˜´å½± */
}" />
```

#### å†…å®¹åŒºåŸŸ

```html
<vue-tabor :style="{
  /* å†…å®¹åŒºåŸŸæ ·å¼ */
  --page-padding: 10px,                     /* é¡µé¢å†…å®¹åŒºåŸŸå†…è¾¹è· */
}" />
```

#### é¢„è®¾ä¸»é¢˜ç¤ºä¾‹

**é»˜è®¤ä¸»é¢˜ (æµ…è‰²)**
```html
<vue-tabor :style="{
  --primary-color: #5a67d8,
  --tab-background-color: rgba(248, 249, 250, 0.5),
  --tab-active-background-color: #fff,
  --tab-text-color: #64748b,
  --tab-border-color: #e2e8f0
}" />
```

**æš—è‰²ä¸»é¢˜**
```html
<vue-tabor :style="{
  --primary-color: #818cf8,
  --tab-background-color: rgba(30, 41, 59, 0.5),
  --tab-active-background-color: #1e293b,
  --tab-active-color: #818cf8,
  --tab-text-color: #cbd5e1,
  --tab-border-color: #334155
}" />
```

**äº®è“ä¸»é¢˜**
```html
<vue-tabor :style="{
  --primary-color: #0ea5e9,
  --tab-border-radius: 8px 8px 0 0,
  --tab-background-color: rgba(224, 242, 254, 0.5),
  --tab-active-background-color: #fff
}" />
```

#### é€šè¿‡å…¨å±€ CSS è‡ªå®šä¹‰æ ·å¼

é™¤äº†ä½¿ç”¨ç»„ä»¶çš„ style å±æ€§å¤–ï¼Œæ‚¨è¿˜å¯ä»¥é€šè¿‡å…¨å±€ CSS å˜é‡è®¾ç½®æ¥è‡ªå®šä¹‰æ ·å¼ï¼š

```css
/* åœ¨æ‚¨çš„å…¨å±€æ ·å¼æ–‡ä»¶ä¸­ */
:root {
  --primary-color: #5a67d8;
  --tab-height: 40px;
  --tab-background-color: rgba(248, 249, 250, 0.5);
  /* å…¶ä»–å˜é‡... */
}
```

#### é«˜çº§æ ·å¼å®šåˆ¶

å¯¹äºéœ€è¦æ›´æ·±å±‚æ¬¡è‡ªå®šä¹‰çš„åœºæ™¯ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ–¹æ³•ï¼š

1. **ä½¿ç”¨æä¾›çš„ç±»åæ·»åŠ è‡ªå®šä¹‰æ ·å¼**ï¼š
   ```css
   /* è‡ªå®šä¹‰æ ‡ç­¾æ ·å¼ */
   .rt-tabs .tab {
     /* è‡ªå®šä¹‰æ ·å¼ */
   }
   
   /* è‡ªå®šä¹‰æ¿€æ´»æ ‡ç­¾æ ·å¼ */
   .rt-tabs .tab.active {
     /* è‡ªå®šä¹‰æ ·å¼ */
   }
   ```

2. **é€šè¿‡æ’æ§½è‡ªå®šä¹‰æ ‡ç­¾å†…å®¹**ï¼š
   ```html
   <vue-tabor>
     <template #tab="{ tab }">
       <div class="custom-tab">
         <img v-if="tab.icon" :src="tab.icon" class="tab-icon" />
         <span>{{ tab.name }}</span>
       </div>
     </template>
   </vue-tabor>
   ```

3. **ä½¿ç”¨ tabPrefix å±æ€§æ·»åŠ å‰ç¼€å†…å®¹**ï¼š
   ```html
   <vue-tabor :tabPrefix="YourPrefixComponent" />
   ```

### å®ä¾‹æ–¹æ³•

å¯ä»¥é€šè¿‡æ³¨å…¥çš„ `tabStore` è®¿é—®ä»¥ä¸‹æ–¹æ³•ï¼š

```js
// åœ¨ç»„ä»¶ä¸­ä½¿ç”¨
import { inject } from 'vue';

export default {
  setup() {
    const tabStore = inject('tabStore');
    
    // ä½¿ç”¨tabStoreæ–¹æ³•
    return { tabStore };
  }
}
```

| æ–¹æ³• | å‚æ•° | è¿”å›å€¼ | è¯´æ˜ |
|------|------|--------|------|
| open | (to: RouteLocationRaw, options?: OpenProps) | Promise\<void\> | æ‰“å¼€æ–°æ ‡ç­¾ |
| close | (item?: TabGetter, toOptions?: ToOptions) | Promise\<void\> | å…³é—­æ ‡ç­¾ |
| closeOthers | (tabId?: TabId) | void | å…³é—­å…¶ä»–æ ‡ç­¾ |
| refresh | (tabId?: TabId) | void | åˆ·æ–°æ ‡ç­¾ |
| find | (tabId: TabId) | Tab \| undefined | æŸ¥æ‰¾æ ‡ç­¾ |
| has | (tabId?: TabId) | boolean | æ£€æŸ¥æ ‡ç­¾æ˜¯å¦å­˜åœ¨ |
| setActive | (tab: Tab) | void | è®¾ç½®æ´»åŠ¨æ ‡ç­¾ |
| remove | (item: { id?: TabId; fullPath?: string }) | void | ç§»é™¤æ ‡ç­¾ |

### Tabç›¸å…³ç±»å‹

```typescript
// æ ‡ç­¾é…ç½®
interface TabConfig {
  key?: "path" | "fullPath" | ((route) => string);
  name?: string;
  keepAlive?: boolean;
  icon?: string;
  iframeAttributes?: IframeAttributes;
}

// æ ‡ç­¾ä¿¡æ¯
interface Tab {
  id: string;
  name: string | symbol;
  icon?: string;
  keepAlive?: boolean;
  fullPath: string;
  allowClose?: boolean;
  iframeAttributes?: IframeAttributes;
  routeName?: string;
}

// æ‰“å¼€æ ‡ç­¾çš„é€‰é¡¹
interface OpenProps {
  replace?: boolean;  // æ˜¯å¦æ›¿æ¢å½“å‰æ ‡ç­¾
  refresh?: boolean;  // æ˜¯å¦åˆ·æ–°
  tabConfig?: TabConfig;  // æ ‡ç­¾é…ç½®
}
```

### iframe æ”¯æŒ

vue3-tabor æ”¯æŒåœ¨æ ‡ç­¾ä¸­æ‰“å¼€å¤–éƒ¨é¡µé¢ï¼š

```js
// æ‰“å¼€iframeæ ‡ç­¾
tabStore.open({
  path: '/iframe',
  query: { 
    src: 'https://example.com', 
    title: 'å¤–éƒ¨é¡µé¢' 
  }
}, {
  tabConfig: {
    iframeAttributes: {
      src: 'https://example.com',
      width: '100%',
      height: '100%'
    }
  }
});
```

## ğŸ”§ æŠ€æœ¯æ ˆ

- **ğŸ’» Vue 3**ï¼šåŸºäºæœ€æ–°çš„Vue 3.xç‰ˆæœ¬å¼€å‘
- **ğŸ”„ Vue Router 4**ï¼šä¸Vue Routeræ·±åº¦é›†æˆ
- **ğŸ’ª TypeScript**ï¼šç±»å‹å®‰å…¨çš„ä»£ç å¼€å‘ä½“éªŒ
- **ğŸ‘¬ Vitest**ï¼šå¯é çš„å•å…ƒæµ‹è¯•ä¿éšœ

## ğŸ“š æ›´å¤šèµ„æº

- [é—®é¢˜åé¦ˆ](https://github.com/daylenjeez/vue3-tabor/issues)
